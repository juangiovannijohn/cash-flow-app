<!-- ESTADO PERDIDAS Y GANANCIAS -->
<div class="w-full mb-4">
  <h2 class="text-lg text-start font-semibold text-accent mb-2">
    Estado de pérdidas y ganancias
  </h2>
  <!-- CARD -->
  <div [ngClass]="showDetails? 'flex flex-row justify-around': ''" class="bg-gris p-2 rounded-md min-h-[100px]">
    <!-- Ingresos -->
    <div [ngClass]="showDetails? ' grid-cols-1 ': ' grid-cols-3'" class="grid  gap-1 sm:gap-3">
      <div [ngClass]="showDetails? 'hidden': '' "  class="col-span-2 flex flex-col ">
        <!-- Detalle de Ingresos -->
        <!-- Encabezado -->
        <div class="flex flex-col gap-0 mb-3">
          <p class="text-accent font-medium text-sm uppercase tracking-wider">
            Ingresos
            <span class="text-text opacity-50 font-thin text-xs">{{currentMounth}}</span>
          </p>
        </div>
        <!-- Resumen en tabla -->
        <div class="">
          <div class="grid grid-cols-3">
            <p class="col-span-1 text-text/90 text-xs  font-semibold sm:uppercase mb-1">Descripción</p>
            <p class="col-span-1 text-text/90 text-xs  font-semibold sm:uppercase mb-1">Previsto</p>
            <p class="text-text/90 col-span-1 text-xs  font-semibold sm:uppercase mb-1">Flujo</p>
            <ng-container *ngFor="let income of GPIncomes">
              <p class="text-text/80 col-span-1 text-xs">{{income.category_name}}</p>
              <p class="col-span-1 text-text/80 text-xs">{{income.budget_expected | ARS}}</p>
              <p [ngClass]="income.sum > income.budget_expected ? 'text-red/80':'text-text/80'" class="col-span-1 text-xs">{{income.sum | ARS}}</p>
            </ng-container>
          </div>
        </div>
      </div>
      <!-- Montos finales -->
      <div [ngClass]="showDetails? 'hidden': 'border-l'" class="col-span-1 border-text/10  flex flex-col justify-center items-center">
        <p class="text-text opacity-50 uppercase font-thin text-xs tracking-widest">Total ingresos</p>
        <p class="text-center font-medium text-base leading-none text-accent">{{GPIncSum | ARS}}</p>
      </div>
    </div>
    <!-- divisor -->
    <div *ngIf="!showDetails" class="w-full border-t border-text/10 mt-2 mb-1"></div>
    <!-- Gastos -->
    <div [ngClass]="showDetails? ' grid-cols-1': ' grid-cols-3 mt-2'" class=" grid gap-1 sm:gap-3">
      <div [ngClass]="showDetails? 'hidden': '' "  class="col-span-2 flex flex-col">
        <!-- Detalle de Ingresos -->
        <!-- Encabezado -->
        <div class="flex flex-col gap-0 mb-3">
          <p class="text-accent font-medium text-sm uppercase tracking-wider">
            Gastos
            <span class="text-text opacity-50 font-thin text-xs">{{currentMounth}}</span>
          </p>
        </div>
        <!-- Resumen en tabla -->
        <div class="">
          <div class="grid grid-cols-3">
            <p class="col-span-1 text-text/90 text-xs font-semibold sm:uppercase mb-1">Descripción</p>
            <p class="col-span-1 text-text/90 text-xs font-semibold sm:uppercase mb-1">Previsto</p>
            <p class="text-text/90 col-span-1 text-xs font-semibold sm:uppercase mb-1">Real</p>
            <ng-container *ngFor="let expense of GPExpenses">
              <p class="text-text/80 col-span-1 text-xs">{{expense.category_name}}</p>
              <p class="col-span-1 text-text/80 text-xs">{{expense.budget_expected | ARS}}</p>
              <p [ngClass]="expense.sum >expense.budget_expected ? 'text-red/80':'text-text/80'" class="col-span-1  text-xs">{{expense.sum | ARS}}</p>
            </ng-container>
          </div>
        </div>
      </div>
      <!-- Montos finales -->
      <div [ngClass]="showDetails? 'hidden': 'border-l'"
        class=" border-text/10 col-span-1 flex flex-col justify-center items-center"
      >
        <p class="text-text opacity-50 uppercase font-thin text-xs tracking-widest">Total Gastos</p>
        <p class="text-center font-medium text-base leading-none text-red">{{GPExpSum | ARS}}</p>
      </div>
    </div>
    <!-- divisor -->
    <div *ngIf="!showDetails && false" class="w-full border-t border-text/10 mt-2 mb-2"></div>
    <!-- Activos y Pasitovos -->
    <div *ngIf="!showDetails && false" class="grid grid-cols-1 sm:grid-cols-2 gap-1 sm:gap-3">
      <!-- Activos -->
      <div class="col-span-1 border-b sm:border-b-0 sm:border-r border-text/10 pr-2">
        <div class="mb-3">
          <p class="text-accent font-medium text-sm uppercase tracking-wider">
            Activos
            <!-- <span class="text-text opacity-50 font-thin text-xs">Total: $ 150000</span> -->
          </p>
        </div>
        <div class="relative">
          <div class="flex flex-col gap-0 mb-3 p-1">

            <!-- Resumen en tabla -->
            <!-- <div class="grid grid-cols-3 gap-1 sm:gap-2">
              <p class="text-text/90 col-span-1 text-xs font-semibold sm:uppercase">Descripcion</p>
              <p class="col-span-1 text-text/90 text-xs font-semibold sm:uppercase">Valor Actualizado</p>
              <p class="col-span-1 text-text/90 text-xs font-semibold sm:uppercase">Ingresos Pasivos</p>
              <ng-container>

                <p class="text-accent/70 col-span-1 text-xs sm:text-xs"></p>
                <p class="col-span-1 text-accent/70 text-xs sm:text-xs"></p>
                <p class="col-span-1 text-accent/70 text-xs sm:text-xs"></p>
              </ng-container>
            </div> -->
          </div>
        </div>

      </div>
      <!-- Pasivos -->
      <div class=" col-span-1">
        <div class="mb-3">
          <p class="text-accent font-medium text-sm uppercase tracking-wider">
            Pasivos
            <!-- <span class="text-text opacity-50 font-thin text-xs">Total: $800000</span> -->
          </p>
        </div>
        <div class="relative">
          <div class="flex flex-col gap-0 mb-3 p-1">
            <!-- Resumen en tabla -->
            <!-- <div class="grid grid-cols-3 gap-1">
              <p class="text-text/90 col-span-1 text-xs  font-semibold sm:uppercase">Descripción</p>
              <p class="col-span-1 text-text/90 text-xs  font-semibold sm:uppercase">Deuda Restante Actualizada</p>
              <p class="col-span-1 text-text/90 text-xs  font-semibold sm:uppercase">Cuota mensual</p>
              <ng-container>
                <p class="text-accent/70 col-span-1 text-xs sm:text-xs"></p>
                <p class="col-span-1 text-accent/70 text-xs sm:text-xs"></p>
                <p class="col-span-1 text-accent/70 text-xs sm:text-xs"></p>
              </ng-container>
            </div> -->
          </div>
        </div>

      </div>
    </div>
      <!-- Saldo -->
      <div [ngClass]="showDetails? '': 'hidden'" class="w-full border-text/10  flex flex-col justify-center items-center">
        <p class="text-text opacity-70 uppercase font-thin text-xs tracking-widest mb-2">Saldo</p>
        <p class="text-center font-medium text-xl leading-none text-accent">{{GPIncSum - GPExpSum | ARS}}</p>
      </div>

  </div>
  <div class="my-3">
    <ng-container *ngIf="showDetails;else ocultar">
        <button  (click)="showDetails = !showDetails"
          class="bg-gris text-accent border opacity-60 hover:opacity-100  text-sm py-1 px-3 rounded-md hover:bg-accent hover:shadow-md hover:text-backg">
          Ver detalles
        </button>

    </ng-container>
    <ng-template #ocultar>
        <button  (click)="showDetails = !showDetails"
        class="bg-gris text-accent border opacity-60 hover:opacity-100  text-sm py-1 px-3 rounded-md hover:bg-accent hover:shadow-md hover:text-backg">
        Ocultar detalles
      </button>
    </ng-template>
  </div>
</div>
